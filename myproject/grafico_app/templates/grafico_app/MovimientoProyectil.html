<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Movimiento de Proyectil</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- MathJax -->
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            min-height: 100vh;
            background: url('https://wallpapers.com/images/hd/dark-elegant-pattern-y67f2aqpg0m7abe1.jpg') no-repeat center center fixed;
            background-size: cover;
        }
        .bg-dark-blur {
            background: rgba(0, 0, 0, 0.466);
            border-radius: 18px;
            backdrop-filter: blur(2px);
            box-shadow: 0 8px 32px 0 rgba(255, 255, 255, 0.685);
        }
        label, .form-label, .form-control, .btn { color: #fff !important; }
        .form-control {
            background: #444 !important;
            border: 1px solid #ccc !important;
            color: #fff !important;
        }
        .form-control::placeholder {
            color: #bbb !important;
        }
        .btn-primary { background-color: #17a2b8; border-color: #17a2b8; }
        #grafico {
            display: none;
            width: 100%;
            height: 600px;
            border-radius: 12px;
            background: rgba(0,0,0,0.7);
            margin-top: 1rem;
            padding: 1rem;
        }
        .explanation {
            height: calc(100vh - 3.5rem); /* resta espacio del margen superior */
            overflow-y: auto;
            position: sticky;
            top: 1.5rem;
            padding: 1.5rem;
            background: rgba(0,0,0,0.466);
            border-radius: 18px;
            box-shadow: 0 8px 32px 0 rgba(255, 255, 255, 0.685);
            color: #fff;
        }


        .explanation h4 {
            color: #17a2b8;
            margin-bottom: 1rem;
        }
        .explanation .math-block {
            background: #222;
            padding: 0.75rem;
            border-radius: 8px;
            color: #aaffff;
            margin-bottom: 10px;
        }
    </style>
</head>
<body class="text-light">

<div class="container-fluid py-5">
    <div class="row gx-2">
        <!-- Columna izquierda: Inputs + gráfico (ampliada a 9 columnas) -->
        <div class="col-lg-8 col-md-12">
            <div class="bg-dark-blur p-4 mb-4">
                <h2 class="mb-3 text-center">Movimiento de Proyectil</h2>
                <form id="projectileForm" class="row g-3" autocomplete="off">
                    <div class="col-md-4">
                        <label class="form-label">Velocidad inicial (m/s)</label>
                        <input type="number" step="any" id="velocidad" class="form-control" placeholder="Ejemplo: 20" required />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Ángulo de lanzamiento (grados)</label>
                        <input type="number" step="any" id="angulo" class="form-control" placeholder="Ejemplo: 45" required />
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Gravedad (m/s²)</label>
                        <input type="number" step="any" id="gravedad" class="form-control" placeholder="Ejemplo: 9.8" value="9.8" required />
                    </div>
                    <div class="col-12 text-center">
                        <button type="submit" class="btn btn-primary px-5 mt-2">Graficar</button>
                    </div>
                </form>
            </div>
            <div id="grafico"></div>
        </div>

        <!-- Columna derecha: Explicación (3 columnas) -->
        <div class="col-lg-4 col-md-12">
            <div class="explanation">
                <h4>Movimiento de Proyectiles</h4>
                <p>El movimiento de proyectil es el movimiento de un objeto lanzado en el aire, influenciado únicamente por la gravedad y suponiendo despreciable la resistencia del aire. La trayectoria que describe es una parábola.</p>
                <p>Se analiza como dos movimientos independientes:</p>
                <ul>
                    <li><b>Movimiento horizontal:</b> Movimiento rectilíneo uniforme (MRU) con velocidad constante.</li>
                    <li><b>Movimiento vertical:</b> Movimiento rectilíneo uniformemente acelerado (MRUA) debido a la gravedad.</li>
                </ul>
                <p>Componentes de la velocidad inicial \( v_0 \) con ángulo \( \theta \):</p>
                <div class="math-block">
                    $$ v_{0x} = v_0 \cos \theta $$
                    $$ v_{0y} = v_0 \sin \theta $$
                </div>
                <p>Ecuaciones del movimiento en función del tiempo \( t \):</p>
                <div class="math-block">
                    $$ x(t) = v_0 \cos \theta \cdot t $$
                    $$ y(t) = v_0 \sin \theta \cdot t - \frac{1}{2} g t^2 $$
                </div>
                <p>Tiempo total de vuelo:</p>
                <div class="math-block">
                    $$ T = \frac{2 v_0 \sin \theta}{g} $$
                </div>
                <p>Alcance horizontal máximo (distancia recorrida):</p>
                <div class="math-block">
                    $$ R = \frac{v_0^2 \sin 2\theta}{g} $$
                </div>
                <p>Altura máxima alcanzada:</p>
                <div class="math-block">
                    $$ H = \frac{v_0^2 \sin^2 \theta}{2 g} $$
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.getElementById('projectileForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const v0 = parseFloat(document.getElementById('velocidad').value);
    const angleDeg = parseFloat(document.getElementById('angulo').value);
    const g = parseFloat(document.getElementById('gravedad').value);

    const angleRad = angleDeg * Math.PI / 180;

    const tTotal = 2 * v0 * Math.sin(angleRad) / g;

    const steps = 100;
    const tValues = [];
    const xValues = [];
    const yValues = [];

    for (let i = 0; i <= steps; i++) {
        const t = tTotal * i / steps;
        tValues.push(t);
        xValues.push(v0 * Math.cos(angleRad) * t);
        yValues.push(v0 * Math.sin(angleRad) * t - 0.5 * g * t * t);
    }

    const grafico = document.getElementById('grafico');
    grafico.style.display = 'block';

    const traceArea = {
        x: xValues.concat(xValues.slice().reverse()),
        y: yValues.concat(new Array(yValues.length).fill(0)),
        fill: 'toself',
        type: 'scatter',
        mode: 'none',
        fillcolor: 'rgba(23,162,184,0.4)',
        name: 'Área bajo la curva (trayectoria)'
    };

    const traceLine = {
        x: xValues,
        y: yValues,
        mode: 'lines+markers',
        line: { color: '#17a2b8', width: 3 },
        marker: { size: 4 },
        name: 'Trayectoria del proyectil'
    };

    const layout = {
        paper_bgcolor: 'rgba(0,0,0,0)',
        plot_bgcolor: 'rgba(0,0,0,0)',
        xaxis: { 
            title: 'Distancia horizontal (m)', 
            color: '#fff', 
            dtick: 1,
            range: [0, Math.max(...xValues)*1.1]
        },
        yaxis: { 
            title: 'Altura (m)', 
            color: '#fff', 
            dtick: 1,
            range: [0, Math.max(...yValues)*1.1]
        },
        font: { color: '#fff' },
        margin: { t: 40 }
    };

    Plotly.newPlot('grafico', [traceArea, traceLine], layout, {responsive: true});
});
</script>

</body>

</html>
