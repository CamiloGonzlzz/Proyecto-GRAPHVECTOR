<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MultiplicaciÃ³n de Vectores R3</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            min-height: 100vh;
            background: url('https://wallpapers.com/images/hd/dark-elegant-pattern-y67f2aqpg0m7abe1.jpg') no-repeat center center fixed;
            background-size: cover;
        }
        .page {
            max-width: 1200px;
            margin: 32px auto;
            padding: 20px;
        }
        .card-surface {
            background: rgba(0,0,0,0.50);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.6);
            color: #fff;
        }
        h1 { color: #fff; text-align: center; margin-bottom: 18px; }
        .info-box {
            background: rgba(13,110,253,0.12);
            color: #dbeafe;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 18px;
            border-left: 4px solid #0d6efd;
        }
        .form-label { color: #adb5bd; font-weight: 500; margin-bottom: 6px; }
        .form-control { max-width: 170px; min-width:120px; font-size:1.05rem; padding:10px 12px; text-align:center; }
        .vector-title { font-weight:700; color:#fff; margin-bottom:10px; text-align:center; }
        .input-group-icon { font-size:1.6rem; color:#fff; }
        .btn-primary { background-color: #17a2b8; border-color: #17a2b8; }
        #grafico { width:100%; height:600px; border-radius:8px; margin-top:16px; background: transparent; }
        .results { background:#212529; color:#d1e7dd; padding:12px; border-radius:8px; border-left:4px solid #4CAF50; }
        .theory-panel {
            background: rgba(0,0,0,0.55);
            border-radius: 12px;
            padding: 18px;
            color: #e6eef6;
            box-shadow: 0 8px 24px rgba(0,0,0,0.45);
            height: 100%;
            overflow-y: auto;
        }
        pre.formula { background: rgba(255,255,255,0.03); padding:10px; border-radius:8px; color:#aef; }
        @media (max-width: 991.98px) {
            #grafico { height: 420px; }
        }
        @media (max-width: 767.98px) {
            .form-control { max-width:100%; min-width: auto; }
        }
    </style>
</head>
<body>
<div class="page">

    <div class="row g-4">
        <!-- IZQUIERDA: formulario + resultados + grÃ¡fica -->
        <div class="col-lg-8">
            <div class="card-surface">
                <h1>MultiplicaciÃ³n de Vectores en RÂ³</h1>

                <div class="info-box">
                    <strong>InformaciÃ³n:</strong>
                    <ul class="mb-0">
                        <li><strong>Producto Escalar (AÂ·B):</strong> NÃºmero que mide la magnitud y direcciÃ³n relativa</li>
                        <li><strong>Producto Vectorial (AÃ—B):</strong> Vector perpendicular a A y B</li>
                    </ul>
                </div>

                <form id="vectorForm" class="mb-3" autocomplete="off">
                    <div class="row text-center mb-2">
                        <div class="col-5 vector-title">Vector A</div>
                        <div class="col-2"></div>
                        <div class="col-5 vector-title">Vector B</div>
                    </div>

                    <!-- X -->
                    <div class="row align-items-center mb-2 gx-1 justify-content-center">
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="x1" class="form-label">X<sub>A</sub></label>
                            <input type="number" step="0.1" id="x1" name="x1" class="form-control" placeholder="0" required>
                        </div>
                        <div class="col-2 text-center d-flex align-items-end justify-content-center" style="height:56px;">
                            <span class="input-group-icon"><i class="bi bi-x"></i></span>
                        </div>
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="x2" class="form-label">X<sub>B</sub></label>
                            <input type="number" step="0.1" id="x2" name="x2" class="form-control" placeholder="0" required>
                        </div>
                    </div>

                    <!-- Y -->
                    <div class="row align-items-center mb-2 gx-1 justify-content-center">
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="y1" class="form-label">Y<sub>A</sub></label>
                            <input type="number" step="0.1" id="y1" name="y1" class="form-control" placeholder="0" required>
                        </div>
                        <div class="col-2 text-center d-flex align-items-end justify-content-center" style="height:56px;">
                            <span class="input-group-icon"><i class="bi bi-x"></i></span>
                        </div>
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="y2" class="form-label">Y<sub>B</sub></label>
                            <input type="number" step="0.1" id="y2" name="y2" class="form-control" placeholder="0" required>
                        </div>
                    </div>

                    <!-- Z -->
                    <div class="row align-items-center mb-3 gx-1 justify-content-center">
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="z1" class="form-label">Z<sub>A</sub></label>
                            <input type="number" step="0.1" id="z1" name="z1" class="form-control" placeholder="0" required>
                        </div>
                        <div class="col-2 text-center d-flex align-items-end justify-content-center" style="height:56px;">
                            <span class="input-group-icon"><i class="bi bi-x"></i></span>
                        </div>
                        <div class="col-5 d-flex flex-column align-items-center">
                            <label for="z2" class="form-label">Z<sub>B</sub></label>
                            <input type="number" step="0.1" id="z2" name="z2" class="form-control" placeholder="0" required>
                        </div>
                    </div>

                    <div class="text-center mb-2">
                        <button type="submit" id="calcularBtn" class="btn btn-primary px-4">Calcular Productos</button>
                    </div>
                </form>

                <div id="resultados" class="results d-none"></div>

                <!-- GrÃ¡fica (id intacto) -->
                <div id="grafico" class="d-none"></div>
            </div>
        </div>

        <!-- DERECHA: teorÃ­a -->
        <div class="col-lg-4">
            <div class="theory-panel">
                <h3 class="mb-3">ðŸ“˜ TeorÃ­a</h3>

                <h5>Producto Escalar (AÂ·B)</h5>
                <p>DefiniciÃ³n:</p>
                <pre class="formula">AÂ·B = AxÂ·Bx + AyÂ·By + AzÂ·Bz</pre>
                <p>InterpretaciÃ³n:</p>
                <ul>
                    <li>Si AÂ·B &gt; 0 â†’ Ã¡ngulo agudo entre A y B.</li>
                    <li>Si AÂ·B = 0 â†’ vectores perpendiculares.</li>
                    <li>Si AÂ·B &lt; 0 â†’ Ã¡ngulo obtuso.</li>
                </ul>

                <hr>

                <h5>Producto Vectorial (AÃ—B)</h5>
                <p>DefiniciÃ³n (componentes):</p>
                <pre class="formula">AÃ—B = (AyBz âˆ’ AzBy, AzBx âˆ’ AxBz, AxBy âˆ’ AyBx)</pre>
                <p>Propiedades:</p>
                <ul>
                    <li>Es perpendicular a A y B.</li>
                    <li>Magnitud = Ã¡rea del paralelogramo generado por A y B.</li>
                    <li>AÃ—B = âˆ’(BÃ—A).</li>
                </ul>

                <hr>

                <h5>Notas de visualizaciÃ³n</h5>
                <ul>
                    <li>Rojo â†’ Vector A</li>
                    <li>Verde â†’ Vector B</li>
                    <li>Azul â†’ Producto vectorial (AÃ—B)</li>
                    <li>Los cubos extrapolares muestran las proyecciones/componentes</li>
                </ul>

            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

<!-- === Script ORIGINAL (no modificado) === -->
<script>
    // Dibuja las 12 aristas del cubo desde (0,0,0) hasta (x,y,z)
    function cuboExtrapolar(x, y, z, color='#fff', width=2) {
        let v = [
            [0,0,0], [x,0,0], [x,y,0], [0,y,0],
            [0,0,z], [x,0,z], [x,y,z], [0,y,z]
        ];
        let edges = [
            [0,1],[1,2],[2,3],[3,0],
            [4,5],[5,6],[6,7],[7,4],
            [0,4],[1,5],[2,6],[3,7]
        ];
        let traces = [];
        for (let e of edges) {
            traces.push({
                type: 'scatter3d',
                mode: 'lines',
                x: [v[e[0]][0], v[e[1]][0]],
                y: [v[e[0]][1], v[e[1]][1]],
                z: [v[e[0]][2], v[e[1]][2]],
                line: {color: color, width: width, dash: 'dot'},
                showlegend: false
            });
        }
        return traces;
    }

    function productoEscalar(x1, y1, z1, x2, y2, z2) {
        return x1 * x2 + y1 * y2 + z1 * z2;
    }
    function productoVectorial(x1, y1, z1, x2, y2, z2) {
        return [
            y1 * z2 - z1 * y2,
            z1 * x2 - x1 * z2,
            x1 * y2 - y1 * x2
        ];
    }

    function graficarMultiplicacion(x1, y1, z1, x2, y2, z2, escalar, vectorial) {
        const colorCubo = '#fff';

        let data = [
            // Vector A (rojo)
            {
                type: 'scatter3d',
                mode: 'lines',
                x: [0, x1], y: [0, y1], z: [0, z1],
                line: { color: 'red', width: 6 },
                name: `A (${x1.toFixed(2)}, ${y1.toFixed(2)}, ${z1.toFixed(2)})`
            },
            // Vector B (verde)
            {
                type: 'scatter3d',
                mode: 'lines',
                x: [0, x2], y: [0, y2], z: [0, z2],
                line: { color: 'green', width: 6 },
                name: `B (${x2.toFixed(2)}, ${y2.toFixed(2)}, ${z2.toFixed(2)})`
            },
            // Producto vectorial (azul)
            {
                type: 'scatter3d',
                mode: 'lines',
                x: [0, vectorial[0]], y: [0, vectorial[1]], z: [0, vectorial[2]],
                line: { color: 'blue', width: 6 },
                name: `AÃ—B (${vectorial[0].toFixed(2)}, ${vectorial[1].toFixed(2)}, ${vectorial[2].toFixed(2)})`
            }
        ];

        // AÃ±adir cubos extrapolares para cada vector
        data = data
            .concat(cuboExtrapolar(x1, y1, z1, colorCubo, 2))
            .concat(cuboExtrapolar(x2, y2, z2, colorCubo, 2))
            .concat(cuboExtrapolar(vectorial[0], vectorial[1], vectorial[2], colorCubo, 2));

        const valores = [
            x1, y1, z1, x2, y2, z2, vectorial[0], vectorial[1], vectorial[2]
        ];
        const min = Math.min(0, ...valores) - 1;
        const max = Math.max(0, ...valores) + 1;

        const layout = {
            margin: { l: 0, r: 0, b: 0, t: 30 },
            paper_bgcolor: '#212529',
            plot_bgcolor: '#212529',
            font: { color: '#f8f9fa' },
            scene: {
                xaxis: { title: 'X', color: '#fff', range: [min, max] },
                yaxis: { title: 'Y', color: '#fff', range: [min, max] },
                zaxis: { title: 'Z', color: '#fff', range: [min, max] },
                aspectmode: 'cube',
                camera: { eye: { x: 1.5, y: 1.5, z: 0.8 } }
            },
            legend: { x: 0.85, y: 0.95, font: { color: '#f8f9fa' } },
            title: {
                text: `Producto Escalar: ${escalar.toFixed(2)} | Producto Vectorial: (${vectorial[0].toFixed(2)}, ${vectorial[1].toFixed(2)}, ${vectorial[2].toFixed(2)})`,
                x: 0.5,
                y: 0.95,
                xanchor: 'center',
                font: { size: 14 }
            }
        };

        Plotly.newPlot('grafico', data, layout, { displayModeBar: false });
    }

    document.getElementById('vectorForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const x1 = parseFloat(this.x1.value);
        const y1 = parseFloat(this.y1.value);
        const z1 = parseFloat(this.z1.value);
        const x2 = parseFloat(this.x2.value);
        const y2 = parseFloat(this.y2.value);
        const z2 = parseFloat(this.z2.value);

        const escalar = productoEscalar(x1, y1, z1, x2, y2, z2);
        const vectorial = productoVectorial(x1, y1, z1, x2, y2, z2);

        // Mostrar resultados
        const resultados = document.getElementById('resultados');
        resultados.innerHTML = `
            <strong>Producto Escalar (AÂ·B):</strong> ${escalar.toFixed(2)}<br>
            <strong>Producto Vectorial (AÃ—B):</strong> (${vectorial[0].toFixed(2)}, ${vectorial[1].toFixed(2)}, ${vectorial[2].toFixed(2)})
        `;
        resultados.classList.remove('d-none');

        document.getElementById('grafico').classList.remove('d-none');
        graficarMultiplicacion(x1, y1, z1, x2, y2, z2, escalar, vectorial);
    });
</script>
</body>
</html>
